# Firebase èˆ‡å½±ç‰‡æª”æ¡ˆæ˜ å°„é—œä¿‚

## ğŸ¯ æ˜ å°„è¦å‰‡

æ ¹æ“š Firebase çš„ `name` æ¬„ä½è‡ªå‹•æ˜ å°„åˆ°å°æ‡‰çš„å½±ç‰‡æª”æ¡ˆï¼š

| Firebase Name | å½±ç‰‡æª”æ¡ˆ | èªªæ˜ |
|---------------|----------|------|
| å¤œå¸‚ç”Ÿæ´» | `night.mp4` | å¤œå¸‚æ°›åœç‰¹æ•ˆ |
| B-Boy | `boy.mp4` | è¡—èˆé¢¨æ ¼ç‰¹æ•ˆ |
| æ–‡é’å°‘å¹´ | `coffee.mp4` | å’–å•¡å»³æ–‡é’é¢¨æ ¼ |
| ä¾†å»æ³¡æº«æ³‰ | `hotspring.mp4` | æº«æ³‰æ”¾é¬†ç‰¹æ•ˆ |
| ç™»å±±å®¢ | `mt.mp4` | ç™»å±±æˆ¶å¤–ç‰¹æ•ˆ |
| æ·¡æ°´å¤•é™½ | `sun.mp4` | å¤•é™½ç¾æ™¯ç‰¹æ•ˆ |
| è·‘é…·å°‘å¹´ | `run.mp4` | è·‘é…·é‹å‹•ç‰¹æ•ˆ |
| æ ¡å¤–æ•™å­¸ | `zoo.mp4` | å‹•ç‰©åœ’æ•™å­¸ç‰¹æ•ˆ |
| å‡ºé–€è¸é’ | `walk.mp4` | æˆ¶å¤–è¸é’ç‰¹æ•ˆ |
| ä¸‹é›¨å¤© | `rain.mp4` | é›¨å¤©æ°›åœç‰¹æ•ˆ |
| è²·ç±³è²·èœè²·å†¬ç“œ | `market.mp4` | å¸‚å ´è³¼ç‰©ç‰¹æ•ˆ |

## ğŸ”§ æŠ€è¡“å¯¦ç¾

### 1. EffectModel æ˜ å°„é‚è¼¯
```dart
factory EffectModel.fromFirestore(String id, Map<String, dynamic> data) {
  final name = data['name'] ?? 'ç‰¹æ•ˆ$number';
  
  // æ ¹æ“š Firebase name æ¬„ä½æ˜ å°„åˆ°å°æ‡‰çš„å½±ç‰‡æª”æ¡ˆ
  String getAssetPath(String effectName) {
    switch (effectName) {
      case 'å¤œå¸‚ç”Ÿæ´»':
        return 'assets/MRTå½±ç‰‡/night.mp4';
      case 'B-Boy':
        return 'assets/MRTå½±ç‰‡/boy.mp4';
      case 'æ–‡é’å°‘å¹´':
        return 'assets/MRTå½±ç‰‡/coffee.mp4';
      // ... å…¶ä»–æ˜ å°„
      default:
        return 'assets/MRTå½±ç‰‡/ç‰¹æ•ˆ$number.mp4';
    }
  }
  
  return EffectModel(
    id: id,
    name: name,
    assetPath: getAssetPath(name),  // ä½¿ç”¨æ˜ å°„çš„æª”æ¡ˆè·¯å¾‘
    owned: data['owned'] ?? false,
    number: number,
    description: data['description'],
    price: data['price'],
    rarity: data['rarity'],
  );
}
```

### 2. æª”æ¡ˆçµæ§‹
```
assets/
â””â”€â”€ MRTå½±ç‰‡/
    â”œâ”€â”€ night.mp4      â† å¤œå¸‚ç”Ÿæ´»
    â”œâ”€â”€ boy.mp4        â† B-Boy
    â”œâ”€â”€ coffee.mp4     â† æ–‡é’å°‘å¹´
    â”œâ”€â”€ hotspring.mp4  â† ä¾†å»æ³¡æº«æ³‰
    â”œâ”€â”€ mt.mp4         â† ç™»å±±å®¢
    â”œâ”€â”€ sun.mp4        â† æ·¡æ°´å¤•é™½
    â”œâ”€â”€ run.mp4        â† è·‘é…·å°‘å¹´
    â”œâ”€â”€ zoo.mp4        â† æ ¡å¤–æ•™å­¸
    â”œâ”€â”€ walk.mp4       â† å‡ºé–€è¸é’
    â”œâ”€â”€ rain.mp4       â† ä¸‹é›¨å¤©
    â””â”€â”€ market.mp4     â† è²·ç±³è²·èœè²·å†¬ç“œ
```

## ğŸ“± ä½¿ç”¨æµç¨‹

### 1. Firebase è³‡æ–™çµæ§‹
```json
{
  "effects": {
    "1": {
      "name": "å¤œå¸‚ç”Ÿæ´»",
      "number": 1,
      "price": 300,
      "rarity": "å¸¸è¦‹",
      "description": "ç†±é¬§çš„å¤œå¸‚æ°›åœ",
      "owned": false
    },
    "2": {
      "name": "B-Boy",
      "number": 2,
      "price": 500,
      "rarity": "ç¨€æœ‰",
      "description": "è¡—èˆé¢¨æ ¼ç‰¹æ•ˆ",
      "owned": false
    }
  }
}
```

### 2. è‡ªå‹•æ˜ å°„éç¨‹
```
1. å¾ Firebase è®€å–è³‡æ–™
   â†“
2. å–å¾— name æ¬„ä½ï¼ˆå¦‚ï¼š"å¤œå¸‚ç”Ÿæ´»"ï¼‰
   â†“
3. æ ¹æ“šæ˜ å°„è¡¨æ‰¾åˆ°å°æ‡‰æª”æ¡ˆï¼ˆnight.mp4ï¼‰
   â†“
4. ç”Ÿæˆ assetPathï¼ˆassets/MRTå½±ç‰‡/night.mp4ï¼‰
   â†“
5. æ’­æ”¾å°æ‡‰å½±ç‰‡
```

## âœ… å„ªå‹¢ç‰¹é»

1. **è‡ªå‹•æ˜ å°„**ï¼šç„¡éœ€æ‰‹å‹•è¨­å®šæª”æ¡ˆè·¯å¾‘
2. **æ˜“æ–¼ç¶­è­·**ï¼šæ–°å¢ç‰¹æ•ˆåªéœ€æ›´æ–°æ˜ å°„è¡¨
3. **éŒ¯èª¤è™•ç†**ï¼šæ‰¾ä¸åˆ°æ˜ å°„æ™‚ä½¿ç”¨é è¨­ç·¨è™Ÿ
4. **éˆæ´»æ€§**ï¼šæ”¯æ´ä»»æ„å‘½åè¦å‰‡

## ğŸ› ï¸ æ“´å±•æ–¹å¼

### æ–°å¢ç‰¹æ•ˆæ˜ å°„
```dart
case 'æ–°ç‰¹æ•ˆåç¨±':
  return 'assets/MRTå½±ç‰‡/æ–°æª”æ¡ˆå.mp4';
```

### æ‰¹é‡è™•ç†
```dart
// å¯ä»¥æ“´å±•ç‚ºå¾é…ç½®æª”æ¡ˆè®€å–æ˜ å°„é—œä¿‚
final Map<String, String> effectMapping = {
  'å¤œå¸‚ç”Ÿæ´»': 'night.mp4',
  'B-Boy': 'boy.mp4',
  // ...
};
```

## ğŸ¯ æ³¨æ„äº‹é …

1. **æª”æ¡ˆå‘½å**ï¼šç¢ºä¿å½±ç‰‡æª”æ¡ˆåç¨±èˆ‡æ˜ å°„è¡¨ä¸€è‡´
2. **å¤§å°å¯«**ï¼šFirebase çš„ name æ¬„ä½è¦å®Œå…¨åŒ¹é…
3. **æª”æ¡ˆå­˜åœ¨**ï¼šç¢ºä¿æ‰€æœ‰æ˜ å°„çš„å½±ç‰‡æª”æ¡ˆéƒ½å­˜åœ¨æ–¼ assets ç›®éŒ„
4. **å‚™ç”¨æ–¹æ¡ˆ**ï¼šä½¿ç”¨ default è™•ç†æœªæ˜ å°„çš„ç‰¹æ•ˆ

é€™å€‹æ˜ å°„ç³»çµ±è®“ Firebase è³‡æ–™èˆ‡æœ¬åœ°å½±ç‰‡æª”æ¡ˆå®Œç¾å°æ‡‰ï¼Œæä¾›éˆæ´»ä¸”æ˜“æ–¼ç¶­è­·çš„ç‰¹æ•ˆç®¡ç†æ–¹æ¡ˆï¼
